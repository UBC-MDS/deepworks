# prioritize.prioritize_tasks { #deepworks.prioritize.prioritize_tasks }

```python
prioritize.prioritize_tasks(tasks, method='weighted', weights=None)
```

Rank tasks by priority using different prioritization methods.

This function takes a list of task dictionaries and returns a pandas
DataFrame with tasks sorted by priority score in descending order (highest
priority first). Two prioritization methods are available: 'weighted'
(balances importance, effort, and deadline) and 'deadline' (prioritizes
purely by deadline proximity).

## Parameters {.doc-section .doc-section-parameters}

| Name    | Type         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Default      |
|---------|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|
| tasks   | list of dict | List of task dictionaries. Each task should have:  - 'name' : str (required)     The task name or description. - 'deadline' : str, optional (format: 'YYYY-MM-DD')     The task deadline. Tasks without deadlines receive a default middle     urgency score (3 out of 5) in weighted method, or score 0 in     deadline method. - 'effort' : int, optional (1-5 scale, where 1 = low effort, 5 = high)     Lower effort tasks are prioritized higher. Default is 3. - 'importance' : int, optional (1-5 scale, where 5 = most important)     Higher importance tasks are prioritized higher. Default is 3. | _required_   |
| method  | str          | Prioritization method to use. Default is 'weighted'.  - 'weighted': Calculates a composite score using importance, effort,   and deadline urgency. Effort is inverted (low effort = high score).   Deadline is converted to urgency (1-5) based on days remaining. - 'deadline': Prioritizes solely by deadline proximity. Score is   calculated as ``max(0, 100 - days_until_deadline)``. Tasks without   deadlines receive a score of 0.                                                                                                                                                                  | `'weighted'` |
| weights | dict         | Custom weights for the 'weighted' method. Keys are 'importance', 'effort', and 'deadline'. Values should sum to 1.0 for normalized scoring. Default is {'importance': 0.5, 'effort': 0.3, 'deadline': 0.2}. This parameter is ignored when using the 'deadline' method.                                                                                                                                                                                                                                                                                                                                     | `None`       |

## Returns {.doc-section .doc-section-returns}

| Name   | Type         | Description                                                                                                                                                                                                                                                                                                    |
|--------|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        | pd.DataFrame | DataFrame sorted by priority (highest first) with columns:  - All original task fields (name, importance, effort, deadline, etc.) - 'priority_score' : float - The calculated priority score - 'rank' : int - The task rank (1 = highest priority) - 'days_until_deadline' : int (only with 'deadline' method) |

## Raises {.doc-section .doc-section-raises}

| Name   | Type       | Description                                                                           |
|--------|------------|---------------------------------------------------------------------------------------|
|        | TypeError  | If tasks is not a list, contains non-dict items, or weights is not a dict.            |
|        | ValueError | If tasks is empty, method is invalid, or a task is missing the required 'name' field. |

## Notes {.doc-section .doc-section-notes}

**Weighted Method Scoring:**

The weighted method combines three factors into a single score:

1. Importance (default weight: 0.5): Used directly (1-5 scale)
2. Effort (default weight: 0.3): Inverted as ``6 - effort`` so that
   low-effort tasks score higher
3. Deadline urgency (default weight: 0.2): Converted from days remaining
   to urgency level:

   - <= 1 day: urgency 5
   - <= 3 days: urgency 4
   - <= 7 days: urgency 3
   - <= 14 days: urgency 2
   - > 14 days: urgency 1
   - No deadline: urgency 3 (neutral)

Final score: ``importance * w_imp + (6 - effort) * w_eff + urgency * w_dead``

**Deadline Method Scoring:**

Score = ``max(0, 100 - days_until_deadline)``

Tasks due today score 100, tasks due in 50 days score 50, and tasks
without deadlines score 0.

## Examples {.doc-section .doc-section-examples}

**Basic usage with weighted method (default):**

```python
>>> tasks = [
...     {"name": "Fix critical bug", "importance": 5, "effort": 2},
...     {"name": "Write documentation", "importance": 3, "effort": 4},
...     {"name": "Refactor module", "importance": 4, "effort": 3}
... ]
>>> df = prioritize_tasks(tasks)
>>> list(df["name"])
['Fix critical bug', 'Refactor module', 'Write documentation']
>>> list(df["priority_score"])
[4.3, 3.5, 2.7]
>>> list(df["rank"])
[1, 2, 3]
```

**Using deadline method for time-sensitive prioritization:**

```python
>>> from datetime import date, timedelta
>>> today = date.today().strftime("%Y-%m-%d")
>>> next_week = (date.today() + timedelta(days=7)).strftime("%Y-%m-%d")
>>> tasks = [
...     {"name": "Urgent report", "deadline": today},
...     {"name": "Weekly review", "deadline": next_week},
...     {"name": "Backlog item"}  # No deadline
... ]
>>> df = prioritize_tasks(tasks, method="deadline")
>>> list(df["name"])
['Urgent report', 'Weekly review', 'Backlog item']
>>> list(df["priority_score"])
[100, 93, 0]
```

**Custom weights emphasizing effort over importance:**

```python
>>> tasks = [
...     {"name": "Quick win", "importance": 2, "effort": 1},
...     {"name": "Big project", "importance": 5, "effort": 5}
... ]
>>> custom_weights = {"importance": 0.2, "effort": 0.6, "deadline": 0.2}
>>> df = prioritize_tasks(tasks, weights=custom_weights)
>>> list(df["name"])
['Quick win', 'Big project']
>>> list(df["priority_score"])
[4.0, 2.2]
```

**Minimal task (only required field):**

```python
>>> tasks = [{"name": "Simple task"}]
>>> df = prioritize_tasks(tasks)
>>> float(df["priority_score"].iloc[0])  # Uses defaults: importance=3, effort=3
3.0
```